const S=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))p(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const g of i.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&p(g)}).observe(document,{childList:!0,subtree:!0});function u(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function p(t){if(t.ep)return;t.ep=!0;const i=u(t);fetch(t.href,i)}};S();const h=document.querySelector(".file-input"),l=document.querySelector(".preview-img img"),L=document.querySelectorAll(".filter button"),q=document.querySelector(".filter-info .name"),r=document.querySelector(".slider input"),x=document.querySelectorAll(".rotate button"),E=document.querySelector(".choose-img"),b=document.querySelector(".save-img"),$=document.querySelector(".reset-filter"),f=document.querySelector(".filter-info .value");let s=100,c=100,o=0,a=0,d=0,m=1,v=1;const y=()=>{l.style.transform=`rotate(${d}deg) scale(${m},${v})`,l.style.filter=`brightness(${s}%) saturate(${c}%) invert(${o}%) grayscale(${a}%) `},k=()=>{let e=h.files[0];!e||(l.src=URL.createObjectURL(e),l.addEventListener("load",()=>{document.querySelector(".container").classList.remove("disable")}))};L.forEach(e=>{e.addEventListener("click",()=>{document.querySelector(".filter .active").classList.remove("active"),e.classList.add("active"),q.innerText=e.innerText,e.id==="brightness"?(r.max="200",r.value=s,f.innerText=s+"%"):e.id==="saturation"?(r.max="200",r.value=c,f.innerText=c+"%"):e.id==="inversion"?(r.max="100",r.value=o,f.innerText=o+"%"):(r.max="100",r.value=a,f.innerText=a+"%")})});const w=()=>{f.innerText=r.value+"%";const e=document.querySelector(".filter .active");e.id==="brightness"?s=r.value:e.id==="saturation"?c=r.value:e.id==="inversion"?o=r.value:a=r.value,y()};x.forEach(e=>{e.addEventListener("click",()=>{e.id==="left"?d-=90:e.id==="right"?d+=90:e.id==="horizontal"?m=m===1?-1:1:v=v===1?-1:1,y()})});const I=()=>{s=100,c=100,o=0,a=0,d=0,m=1,v=1,L[0].click(),y()},O=()=>{const e=document.createElement("canvas"),n=e.getContext("2d");e.width=l.naturalWidth,e.height=l.naturalHeight,n.filter=`brightness(${s}%) saturate(${c}%) invert(${o}%) grayscale(${a}%) `,n.translate(e.width/2,e.height/2),d!==0&&n.rotate(d*Math.PI/180),n.scale(m,v),n.drawImage(l,-e.width/2,-e.height/2,e.width,e.height);const u=document.createElement("a");u.download="image.jpg",u.href=e.toDataURL(),u.click()};h.addEventListener("change",k);r.addEventListener("input",w);$.addEventListener("click",I);b.addEventListener("click",O);E.addEventListener("click",()=>h.click());
